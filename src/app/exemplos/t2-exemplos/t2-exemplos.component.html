<p>Anexo solicitação</p>
<!-- Avançado -->
<div class="mt-1 p-2 grid">
  <div class="col-12" [hidden]="readonlyHideComponent">
    <div class="col-12 text-lg p-0 mb-2">
      Anexe arquivos que serão enviados ao GED, arquivos duplicados não serão
      enviados
    </div>
    <p-fileUpload
      #anexosUploader1
      name="nome"
      [multiple]="true"
      [customUpload]="true"
      (onSelect)="escolherDocumentoFileUpload(anexosUploader1)"
      [uploadLabel]="'Enviar para GED'"
      chooseLabel="Escolher"
      (uploadHandler)="enviarDocumentos(anexosUploader1)"
      [showCancelButton]="false"
      [styleClass]="'mb-2'"
      ><ng-template let-file pTemplate="file">
        <div class="grid">
          <div class="col-7">
            <div class="text-lg">{{ sn(file.name) }}</div>
          </div>
          <div class="col-2">
            <div class="text-lg">{{ fb(file.size) }}</div>
          </div>
          <div class="col-2">
            <div
              [hidden]="ct(vp.anexo_ged, file.name)"
              class="text-lg bg-yellow-500 text-white p-1 w-max"
            >
              Pendente
            </div>
            <div
              [hidden]="!ct(vp.anexo_ged, file.name)"
              class="text-lg bg-green-600 text-white p-1 w-max"
            >
              Enviado
            </div>
          </div>
          <div class="col-1">
            <button
              class="p-2 p-button-danger"
              icon="pi pi-times"
              pButton
              type="button"
              [style.visibility]="
                ct(vp.anexo_ged, file.name) ? 'hidden' : 'visible'
              "
              (click)="
                removerDocumentoFileUpload($event, file, anexosUploader1)
              "
            ></button>
          </div></div></ng-template
    ></p-fileUpload>
  </div>

  <!-- Básico -->
  <div class="mt-1 p-2 grid">
    <div class="col-12" [hidden]="readonlyHideComponent">
      <div class="col-12 text-lg p-0 mb-2">
        Anexe arquivos que serão enviados ao GED, arquivos duplicados não serão
        enviados
      </div>

      <p-fileUpload
        #anexosUploader2
        mode="basic"
        name="demo[]"
        [customUpload]="true"
        (onSelect)="escolherDocumentoFileUpload(anexosUploader2)"
        (uploadHandler)="enviarDocumentos(anexosUploader2)"
      ></p-fileUpload>
    </div>
  </div>

  <!-- Upload automático -->
  <div class="mt-1 p-2 grid">
    <div class="col-12" [hidden]="readonlyHideComponent">
      <div class="col-12 text-lg p-0 mb-2">
        Anexe arquivos que serão enviados ao GED, arquivos duplicados não serão
        enviados
      </div>

      <p-fileUpload
        #anexosUploader3
        mode="basic"
        name="demo2[]"
        [auto]="true"
        chooseLabel="Automatico"
        [customUpload]="true"
        (onSelect)="escolherDocumentoFileUpload(anexosUploader3)"
        (uploadHandler)="enviarDocumentos(anexosUploader3)"
      ></p-fileUpload>
    </div>
  </div>

  <div class="col-12">
    <div class="col-12 text-lg p-0 mb-2">
      Documentos já enviados ao GED<span [hidden]="readonlyHideComponent"
        >, arquivos duplicados não serão enviados</span
      >
    </div>
    <p-table
      #tableAnexosMenut4
      [value]="vp.anexo_ged"
      [paginator]="true"
      [rows]="5"
      styleClass="p-datatable-sm"
    >
      <ng-template pTemplate="header">
        <tr>
          <th class="text-lg">Nome</th>
          <th class="text-lg">Criado por</th>
          <th class="text-lg">Estado GED</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-anexo>
        <tr [pSelectableRow]="anexo">
          <td class="text-lg">{{ anexo.arquivoGED.title }}</td>
          <td class="text-lg">{{ anexo.arquivoGED.createdBy }}</td>
          <td>
            <div
              class="text-lg text-white w-max p-1 {{ anexo.classTemplateGED }}"
            >
              {{ anexo.estadoGED }}
            </div>
          </td>
          <td>
            <button
              class="p-2 p-button-info mr-2"
              icon="pi pi-download"
              pButton
              type="button"
              (click)="descarregarDocumentoGED(anexo.gedId)"
            ></button>
            <button
              class="p-2 p-button-danger"
              icon="pi pi-trash"
              pButton
              type="button"
              [style.visibility]="readonlyHideComponent ? 'hidden' : 'visible'"
              (click)="excluirDocumentoGED(anexo)"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
